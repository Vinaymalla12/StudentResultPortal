<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Semester Result Lookup</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
<div class="container">
    <h2>üìä Student Result</h2>
    <form method="POST" id="resultForm">
        <input type="text" name="reg_no" placeholder="Enter Registration No"
               value="{{ reg_no or '' }}" required>
        <select name="semester" required>
            <option value="" disabled {% if not semester %}selected{% endif %}>Select Semester</option>
            <option value="1" {% if semester=='1' %}selected{% endif %}>Semester 1</option>
            <option value="4" {% if semester=='4' %}selected{% endif %}>Semester 4</option>
            <option value="6" {% if semester=='6' %}selected{% endif %}>Semester 6</option>
            <option value="all" {% if semester=='all' %}selected{% endif %}>All Semesters</option>
        </select>
        <button type="submit">Show Result</button>
    </form>

    {% if error %}
        <div class="error">{{ error }}</div>
    {% endif %}

    {% if name %}
        <h3>üë§ {{ name }}</h3>

        {% if total_credits is not none %}
            <div class="info">‚≠ê Total Credits (Excluding Backlogs): {{ '%.1f'|format(total_credits) }}</div>
        {% endif %}

        {% if backlog_count is not none %}
            <div class="info">‚ö†Ô∏è Backlogs: {{ backlog_count }}</div>
        {% endif %}

        {% if result_html %}
            {{ result_html|safe }}
        {% endif %}
    {% endif %}
</div>
</body>
</html>
